<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
	function sub(){
		var secondSon = document.getElementById("secondSon");
		var thirdSon = sub3(secondSon);
		var firstSon = sub2(secondSon);
		var father = secondSon.parentNode;
		
		
		var addDiv = document.createElement("div");
		addDiv.innerHTML = "추가된 자식";
		
		var div1 = document.createElement("div");
		div1.innerHTML = "딸의 자식";
		
		var div2 = document.createElement("div");
		div2.innerHTML = "aa";

		firstSon.appendChild(div2);
		secondSon.appendChild(div1);
		
		father.replaceChild(addDiv, thirdSon);
		father.appendChild(thirdSon);	
	}
	
	function sub2(node){
		do{
			node = node.previousSibling;
		}while(node.nodeType !=1);
		
		return node;
	}
	
	function sub3(node){
		do{
			node = node.nextSibling;
		}while(node.nodeType != 1);
		
		return node;
	}
	
</script>
</head>
<body onload="sub()">
	<div id="father">
		<div id="firstSon">a</div>
		<div id="secondSon">b</div>
		<div id="thirdSon">c</div>
	</div>
</body>
</html>